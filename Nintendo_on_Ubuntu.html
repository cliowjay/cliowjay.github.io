<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ubuntu å¾©å¤éŠæˆ²æ¨¡æ“¬å™¨äº’å‹•æŒ‡å—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Retro Harmony -->
    <!-- Application Structure Plan: The application is designed as a task-oriented interactive guide. It starts with a primary choice (NES or Game Boy) to immediately filter the user's options. The core is a dynamic card-based comparison system, allowing users to see key emulator info at a glance and expand for details (like installation commands). This is more user-friendly than a linear report, as it guides decision-making. A dedicated interactive chart provides a quick visual comparison, while separate, clearly-defined sections for the "All-in-One" solution (RetroArch) and "Legal/Management" topics keep the main flow uncluttered. This structure prioritizes user choice and clarity, transforming the report's content into an actionable tool. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Emulator options for NES/GB. -> Goal: Compare & Choose. -> Viz/Method: Side-by-side interactive cards (HTML/Tailwind) with key data points (Best for, Ease of Use). -> Interaction: Main filter buttons (NES/GB) dynamically render the relevant cards. A "Show Details" toggle reveals installation instructions. -> Justification: Allows for quick, focused comparison without information overload.
        - Report Info: Emulator characteristics (Accuracy, Features, etc.). -> Goal: Visual Comparison. -> Viz/Method: Interactive Bar Chart (Chart.js/Canvas). -> Interaction: Filter buttons update chart data, tooltips show specific ratings. -> Justification: Provides a high-level, data-driven overview to supplement the qualitative info in the cards.
        - Report Info: Installation commands, legal advice. -> Goal: Organize & Inform. -> Viz/Method: Collapsible sections/accordions (HTML/JS). -> Interaction: Click to expand/collapse. -> Justification: Hides complex or dense information by default, keeping the UI clean and focused.
        - Report Info: Legal ROM acquisition methods. -> Goal: Inform Responsibly. -> Viz/Method: Styled list with icons (HTML/Tailwind/Unicode). -> Justification: Makes critical legal information clear, digestible, and visually distinct.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f8fafc; /* slate-50 */
            color: #1e293b; /* slate-800 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 400px;
            max-height: 50vh;
        }
        .nav-btn {
            transition: all 0.3s ease;
        }
        .nav-btn.active {
            background-color: #4f46e5; /* indigo-600 */
            color: white;
            box-shadow: 0 4px 14px 0 rgba(79, 70, 229, 0.39);
        }
        .card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .details-section {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }
        .details-section.open {
            max-height: 500px;
        }
    </style>
</head>
<body class="bg-slate-50">

    <main class="container mx-auto px-4 py-8 md:py-12">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">Ubuntu å¾©å¤éŠæˆ²æ¨¡æ“¬å™¨äº’å‹•æŒ‡å—</h1>
            <p class="text-lg text-slate-600 max-w-3xl mx-auto">é€™æ˜¯ä¸€ä»½å°‡è©³ç´°å ±å‘Šè½‰åŒ–è€Œä¾†çš„äº’å‹•æŒ‡å—ï¼Œæ—¨åœ¨å¹«åŠ©æ‚¨è¼•é¬†é¸æ“‡ã€å®‰è£ä¸¦éŠç©ä»»å¤©å ‚ç´…ç™½æ©Ÿ (NES) èˆ‡ Game Boy (GB/GBC/GBA) çš„ç¶“å…¸éŠæˆ²ã€‚</p>
        </header>

        <section id="platform-selector" class="mb-12">
            <h2 class="text-2xl font-bold text-center mb-6 text-slate-800">ç¬¬ä¸€æ­¥ï¼šé¸æ“‡æ‚¨æƒ³ç©çš„éŠæˆ²å¹³å°</h2>
            <div id="nav-buttons" class="flex justify-center items-center space-x-2 md:space-x-4 bg-slate-200 p-2 rounded-full max-w-md mx-auto">
                <button data-platform="nes" class="nav-btn w-full text-center py-3 px-4 rounded-full font-semibold text-slate-700 bg-white shadow-sm">
                    ä»»å¤©å ‚ (NES)
                </button>
                <button data-platform="gb" class="nav-btn w-full text-center py-3 px-4 rounded-full font-semibold text-slate-700 bg-white shadow-sm">
                    Game Boy (å…¨ç³»åˆ—)
                </button>
            </div>
        </section>

        <section id="emulator-comparison" class="mb-12">
             <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-slate-800">æ¨¡æ“¬å™¨æ¯”è¼ƒèˆ‡é¸æ“‡</h2>
                <p class="text-slate-600 mt-2">æ ¹æ“šæ‚¨çš„é¸æ“‡ï¼Œä»¥ä¸‹æ˜¯æ¨è–¦çš„æ¨¡æ“¬å™¨ã€‚é»æ“Šå¡ç‰‡å¯æŸ¥çœ‹å®‰è£è©³æƒ…ã€‚</p>
            </div>
            <div id="emulator-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Emulator cards will be dynamically inserted here -->
            </div>
             <p id="initial-message" class="text-center text-slate-500 py-16">è«‹å¾ä¸Šæ–¹é¸æ“‡ä¸€å€‹éŠæˆ²å¹³å°é–‹å§‹æ¢ç´¢ã€‚</p>
        </section>

        <section id="comparison-chart-section" class="mb-12 bg-white p-6 rounded-2xl shadow-lg" style="display: none;">
            <h2 class="text-3xl font-bold text-slate-800 text-center mb-2">åŠŸèƒ½è¦–è¦ºåŒ–æ¯”è¼ƒ</h2>
            <p class="text-slate-600 text-center mb-6">é€™å¼µåœ–è¡¨æ ¹æ“šæ¨¡æ“¬ç²¾åº¦ã€æ˜“ç”¨æ€§å’ŒåŠŸèƒ½è±å¯Œåº¦å°å„æ¨¡æ“¬å™¨é€²è¡Œè©•åˆ†ï¼ŒåŠ©æ‚¨å¿«é€Ÿæ±ºç­–ã€‚</p>
            <div class="chart-container max-w-4xl mx-auto">
                <canvas id="emulatorChart"></canvas>
            </div>
        </section>

        <section id="all-in-one" class="mb-12">
            <div class="bg-indigo-700 text-white rounded-2xl p-8 shadow-2xl">
                <h2 class="text-3xl font-bold mb-4 text-center"> ÑƒĞ½Ğ¸Ğ²ĞµÑ€ÑĞ°Ğ»ÑŒĞ½Ğµ Ñ€Ñ–ÑˆĞµĞ½Ğ½Ñï¼šRetroArch</h2>
                <p class="text-indigo-200 mb-6 max-w-3xl mx-auto text-center">å¦‚æœæ‚¨å¸Œæœ›åœ¨ä¸€å€‹çµ±ä¸€çš„ç•Œé¢ä¸­ç®¡ç†å’ŒéŠç©ä¾†è‡ªå¤šå€‹å¹³å°çš„éŠæˆ²ï¼ŒRetroArch æ˜¯æ‚¨çš„çµ‚æ¥µé¸æ“‡ã€‚å®ƒæœ¬èº«æ˜¯ä¸€å€‹å‰ç«¯æ‡‰ç”¨ï¼Œé€šéåŠ è¼‰ä¸åŒçš„ã€Œæ ¸å¿ƒã€(Cores) ä¾†æ¨¡æ“¬å„ç¨®éŠæˆ²æ©Ÿï¼Œæä¾›äº†æ¥µå¤§çš„éˆæ´»æ€§å’Œå¼·å¤§çš„åŠŸèƒ½ï¼Œå¦‚æ¿¾é¡ã€ç¶²è·¯å°æˆ°å’Œå®Œå–„çš„éŠæˆ²åº«ç®¡ç†ã€‚</p>
                <div class="bg-indigo-800/50 rounded-lg p-6 grid grid-cols-1 md:grid-cols-2 gap-6 text-center">
                    <div>
                        <h4 class="font-bold text-xl mb-2">NES æ¨è–¦æ ¸å¿ƒ</h4>
                        <p class="text-indigo-200"><span class="font-semibold text-white">Mesen:</span> æä¾›æœ€é«˜çš„æ¨¡æ“¬ç²¾åº¦ã€‚</p>
                    </div>
                    <div>
                        <h4 class="font-bold text-xl mb-2">Game Boy æ¨è–¦æ ¸å¿ƒ</h4>
                        <p class="text-indigo-200"><span class="font-semibold text-white">mGBA / Gambatte:</span> å…¼é¡§æ€§èƒ½èˆ‡ç²¾æº–åº¦ã€‚</p>
                    </div>
                </div>
                 <div class="mt-6 text-center">
                    <button id="retroarch-toggle" class="bg-white text-indigo-700 font-bold py-2 px-6 rounded-full hover:bg-indigo-100 transition">é¡¯ç¤ºå®‰è£æŒ‡ä»¤</button>
                    <div id="retroarch-details" class="details-section mt-4 text-left">
                         <pre class="bg-slate-900 text-white p-4 rounded-lg overflow-x-auto"><code># é€é Snap (æ¨è–¦)
sudo snap install retroarch

# é€é Flatpak
sudo apt install flatpak
flatpak install flathub org.libretro.RetroArch

# é€é PPA
sudo add-apt-repository ppa:libretro/stable
sudo apt update
sudo apt install retroarch</code></pre>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="power-users" class="mb-12">
            <h2 class="text-3xl font-bold text-slate-800 text-center mb-8">é€²éšç©å®¶å·¥å…·</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h3 class="font-bold text-xl text-slate-900 mb-2">Mednafenï¼šç‚ºè¿½æ±‚æ¥µè‡´ç²¾åº¦</h3>
                    <p class="text-slate-600">ä¸€æ¬¾ä»¥å‘½ä»¤è¡Œé©…å‹•çš„å¤šç³»çµ±æ¨¡æ“¬å™¨ï¼Œé›–ç„¶æ“ä½œè¤‡é›œï¼Œä½†å…¶æ¨¡æ“¬ç²¾åº¦åœ¨è¨±å¤šå¹³å°ä¸Šï¼ˆç‰¹åˆ¥æ˜¯ PS1ï¼‰è¢«å…¬èªç‚ºé ‚ç´šã€‚é©åˆä¸ç•æ‡¼æŒ‘æˆ°ã€è¿½æ±‚æœ€ç´”ç²¹å¾©å¤é«”é©—çš„è³‡æ·±ç”¨æˆ¶ã€‚</p>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h3 class="font-bold text-xl text-slate-900 mb-2">RomMï¼šå°ˆæ¥­éŠæˆ²åº«ç®¡å®¶</h3>
                    <p class="text-slate-600">ä¸€å€‹è‡ªè¨—ç®¡çš„ ROM ç®¡ç†å·¥å…·ï¼Œå¯ä»¥è‡ªå‹•æŠ“å–éŠæˆ²å°é¢ã€è³‡è¨Šï¼Œä¸¦æä¾›ç¾è§€çš„ç€è¦½ä»‹é¢ã€‚å®ƒä¸æ˜¯æ¨¡æ“¬å™¨ï¼Œè€Œæ˜¯å¹«åŠ©æ‚¨æ•´ç†é¾å¤§éŠæˆ²æ”¶è—çš„åˆ©å™¨ã€‚</p>
                </div>
            </div>
        </section>

        <section id="rom-management" class="bg-white p-8 rounded-2xl shadow-lg">
            <h2 class="text-3xl font-bold text-slate-800 text-center mb-2">éŠæˆ² ROM çš„ç²å–èˆ‡ç®¡ç†</h2>
            <p class="text-slate-600 text-center mb-8">ç²å–éŠæˆ² ROM æ¶‰åŠç‰ˆæ¬Šå•é¡Œï¼Œè«‹å‹™å¿…å¾ªåˆæ³•é€”å¾‘ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å»ºè­°èˆ‡ç®¡ç†ç­–ç•¥ã€‚</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="font-bold text-xl text-slate-900 mb-4">åˆæ³•ç²å–é€”å¾‘</h3>
                    <ul class="space-y-3">
                        <li class="flex items-start"><span class="text-indigo-500 mr-3 mt-1">ğŸ’¿</span><div><strong class="text-slate-800">è‡ªè¡Œæå–ï¼š</strong>å¾æ‚¨æ“æœ‰çš„æ­£ç‰ˆéŠæˆ²å¡å¸¶ä¸­æå– ROM å‚™ä»½ã€‚</div></li>
                        <li class="flex items-start"><span class="text-indigo-500 mr-3 mt-1">ğŸ›’</span><div><strong class="text-slate-800">å®˜æ–¹åˆé›†ï¼š</strong>è³¼è²· Steam ç­‰å¹³å°ç™¼è¡Œçš„å®˜æ–¹å¾©å¤éŠæˆ²åˆé›†ã€‚</div></li>
                        <li class="flex items-start"><span class="text-indigo-500 mr-3 mt-1">ğŸ </span><div><strong class="text-slate-800">è‡ªè£½éŠæˆ² (Homebrew)ï¼š</strong>ä¸‹è¼‰ç”±ç¤¾ç¾¤é–‹ç™¼çš„å…è²»ã€åˆæ³•æ–°éŠæˆ²ã€‚</div></li>
                        <li class="flex items-start"><span class="text-indigo-500 mr-3 mt-1">ğŸŒ</span><div><strong class="text-slate-800">å…¬å…±é ˜åŸŸï¼š</strong>å°‹æ‰¾ç‰ˆæ¬Šå·²éæœŸæˆ–ä½œè€…å·²é‡‹å‡ºçš„éŠæˆ²ã€‚</div></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-bold text-xl text-slate-900 mb-4">é«˜æ•ˆç®¡ç†ç­–ç•¥</h3>
                    <ul class="space-y-3">
                        <li class="flex items-start"><span class="text-indigo-500 mr-3 mt-1">ğŸ“</span><div><strong class="text-slate-800">é›†ä¸­å­˜æ”¾ï¼š</strong>æŒ‰å¹³å°åˆ†é–€åˆ¥é¡ï¼Œå»ºç«‹æœ‰çµ„ç¹”çš„æ–‡ä»¶å¤¾çµæ§‹ã€‚</div></li>
                        <li class="flex items-start"><span class="text-indigo-500 mr-3 mt-1">ğŸ·ï¸</span><div><strong class="text-slate-800">è¦ç¯„å‘½åï¼š</strong>ä½¿ç”¨ä¸€è‡´çš„å‘½åè¦å‰‡ï¼Œæ–¹ä¾¿æ¨¡æ“¬å™¨è­˜åˆ¥ã€‚</div></li>
                        <li class="flex items-start"><span class="text-indigo-500 mr-3 mt-1">ğŸ’¾</span><div><strong class="text-slate-800">å‚™ä»½å­˜æª”ï¼š</strong>å®šæœŸå‚™ä»½æ‚¨çš„éŠæˆ²é€²åº¦ï¼Œé˜²æ­¢æ„å¤–éºå¤±ã€‚</div></li>
                        <li class="flex items-start"><span class="text-indigo-500 mr-3 mt-1">ğŸ¤–</span><div><strong class="text-slate-800">å–„ç”¨å·¥å…·ï¼š</strong>åˆ©ç”¨ RetroArch çš„æƒæåŠŸèƒ½æˆ– RomM ä¾†ç¾åŒ–å’Œç®¡ç†æ‚¨çš„éŠæˆ²åº«ã€‚</div></li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <footer class="text-center py-6 mt-8">
        <p class="text-slate-500 text-sm">æ­¤äº’å‹•æŒ‡å—åŸºæ–¼å…¬é–‹å ±å‘Šç”Ÿæˆï¼Œåƒ…ä¾›åƒè€ƒèˆ‡å­¸ç¿’ä¹‹ç”¨ã€‚</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const emulatorsData = {
                nes: [
                    {
                        id: 'mesen',
                        name: 'Mesen',
                        tagline: 'é«˜ç²¾åº¦èˆ‡ç¾ä»£åŠŸèƒ½',
                        description: 'ä»¥å“è¶Šçš„æ¨¡æ“¬ç²¾åº¦èåï¼Œä¸¦æ”¯æŒ HD åœ–å½¢åŒ…ï¼Œèƒ½å°‡ 8-bit éŠæˆ²æå‡è‡³æ›´é«˜è§£æåº¦ï¼Œå¸¶ä¾†ç¾ä»£åŒ–è¦–è¦ºé«”é©—ã€‚',
                        bestFor: 'è¿½æ±‚æœ€é«˜æ¨¡æ“¬å“è³ªèˆ‡ç•«é¢å¢å¼·çš„ç©å®¶',
                        installMethods: ['æ‰‹å‹•'],
                        features: ['æ¥µé«˜æ¨¡æ“¬ç²¾åº¦', 'HD åœ–å½¢å¢å¼·åŒ…', 'å¤šå¹³å°æ”¯æŒ', 'é–‹ç™¼æ´»èº'],
                        installCmd: ` # Mesen éœ€è¦æ‰‹å‹•å®‰è£
# 1. å®‰è£ä¾è³´
sudo apt update
sudo apt install libsdl2-dev dotnet-runtime-6.0 -y
# 2. å‰å¾€å®˜ç¶²ä¸‹è¼‰æœ€æ–° Linux Dev Build
# 3. è§£å£“ç¸®å¾Œï¼Œè³¦äºˆåŸ·è¡Œæ¬Šé™
chmod +x Mesen`,
                        ratings: { accuracy: 9.5, easeOfUse: 6, features: 9 }
                    },
                    {
                        id: 'fceux',
                        name: 'FCEUX',
                        tagline: 'å°ˆæ¥­ç´šå·¥å…·èˆ‡å»£æ³›å…¼å®¹æ€§',
                        description: 'ä¸åƒ…æ˜¯éŠæˆ²æ¨¡æ“¬å™¨ï¼Œæ›´æ˜¯ä¸€å€‹å¼·å¤§çš„éŠæˆ²é–‹ç™¼èˆ‡ç ”ç©¶å¹³å°ï¼Œå…§å»ºèª¿è©¦å™¨ã€ROM-hackingå·¥å…·ã€TASåŠŸèƒ½ç­‰ã€‚',
                        bestFor: 'ROM ä¿®æ”¹è€…ã€ç«¶é€Ÿç©å®¶èˆ‡é–‹ç™¼è€…',
                        installMethods: ['APT', 'Snap'],
                        features: ['å¼·å¤§é–‹ç™¼å·¥å…·', 'Lua è…³æœ¬æ”¯æŒ', 'å»£æ³›å…¼å®¹æ€§', 'éŒ„å½±åŠŸèƒ½'],
                        installCmd: `# é€é APT (æ¨è–¦)
sudo apt install fceux

# é€é Snap
sudo snap install fceux-gui --candidate`,
                        ratings: { accuracy: 8.5, easeOfUse: 8, features: 9.5 }
                    }
                ],
                gb: [
                    {
                        id: 'mgba',
                        name: 'mGBA',
                        tagline: 'æ€§èƒ½èˆ‡ç²¾æº–åº¦çš„é¦–é¸',
                        description: 'åœ¨æ¨¡æ“¬ç²¾åº¦ã€é‹è¡Œæ€§èƒ½å’Œç”¨æˆ¶å‹å¥½æ€§ä¹‹é–“å–å¾—äº†æ¥µä½³çš„å¹³è¡¡ï¼Œæ˜¯ç•¶å‰æœ€å—æ¨è–¦çš„ GBA æ¨¡æ“¬å™¨ï¼ŒåŒæ™‚å®Œç¾æ”¯æŒ GB/GBCã€‚',
                        bestFor: 'çµ•å¤§å¤šæ•¸ Game Boy ç©å®¶',
                        installMethods: ['Snap', 'Flatpak'],
                        features: ['æ€§èƒ½èˆ‡ç²¾åº¦å‡è¡¡', 'æµæš¢ç›´è§€çš„UI', 'æ´»èºé–‹ç™¼', 'è…³æœ¬æ”¯æŒ'],
                        installCmd: `# é€é Snap (æ¨è–¦)
sudo snap install mgba

# é€é Flatpak
sudo apt install flatpak
flatpak install flathub io.mgba.mGBA`,
                        ratings: { accuracy: 9, easeOfUse: 9, features: 8.5 }
                    },
                    {
                        id: 'vbam',
                        name: 'VBA-M',
                        tagline: 'ç¶“å…¸çš„ç¾ä»£åŒ–å»¶çºŒ',
                        description: 'ç¶“å…¸ VBA æ¨¡æ“¬å™¨çš„ç¾ä»£åŒ–åˆ†æ”¯ï¼Œä¿®å¾©äº†èˆŠç‰ˆå•é¡Œä¸¦æŒçºŒæ›´æ–°ã€‚é‹è¡Œç©©å®šï¼Œæ”¯æŒä½œå¼Šç¢¼å’Œæ¿¾é¡ï¼Œæ˜¯ä¸€å€‹è¼•é‡ç´šçš„å¯é é¸æ“‡ã€‚',
                        bestFor: 'è¿½æ±‚ç°¡å–®ã€è¼•é‡ç´šé«”é©—çš„æ‡·èˆŠç©å®¶',
                        installMethods: ['Snap', 'APT'],
                        features: ['è¼•é‡ç©©å®š', 'ä½œå¼Šç¢¼æ”¯æŒ', 'å¤šç¨®è¦–è¦ºæ¿¾é¡', 'ç¹¼æ‰¿ç¶“å…¸'],
                        installCmd: `# é€é Snap
sudo snap install visualboyadvance-m

# é€é APT
sudo apt install visualboyadvance-m`,
                        ratings: { accuracy: 8, easeOfUse: 8.5, features: 7.5 }
                    }
                ]
            };

            const emulatorGrid = document.getElementById('emulator-grid');
            const navButtons = document.querySelectorAll('#nav-buttons button');
            const initialMessage = document.getElementById('initial-message');
            const chartSection = document.getElementById('comparison-chart-section');
            const retroarchToggle = document.getElementById('retroarch-toggle');
            const retroarchDetails = document.getElementById('retroarch-details');
            
            let currentPlatform = null;
            let chart = null;

            function getInstallMethodTag(method) {
                const colors = {
                    'APT': 'bg-green-100 text-green-800',
                    'Snap': 'bg-yellow-100 text-yellow-800',
                    'Flatpak': 'bg-blue-100 text-blue-800',
                    'æ‰‹å‹•': 'bg-red-100 text-red-800'
                };
                return `<span class="text-xs font-medium mr-2 px-2.5 py-0.5 rounded ${colors[method] || 'bg-gray-100 text-gray-800'}">${method}</span>`;
            }

            function renderEmulators(platform) {
                if (!emulatorsData[platform]) return;
                currentPlatform = platform;
                
                initialMessage.style.display = 'none';
                emulatorGrid.innerHTML = '';
                emulatorsData[platform].forEach(emu => {
                    const card = document.createElement('div');
                    card.className = 'card bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col';
                    card.innerHTML = `
                        <div class="p-6 flex-grow">
                            <h3 class="text-xl font-bold text-slate-900">${emu.name}</h3>
                            <p class="text-indigo-600 font-semibold text-sm mb-2">${emu.tagline}</p>
                            <p class="text-slate-600 text-sm mb-4">${emu.description}</p>
                            <div class="mb-4">
                                <strong class="text-sm text-slate-800 block mb-2">æœ€é©åˆï¼š</strong>
                                <p class="text-sm text-slate-600">${emu.bestFor}</p>
                            </div>
                            <div class="mb-4">
                               <strong class="text-sm text-slate-800 block mb-2">ä¸»è¦ç‰¹è‰²ï¼š</strong>
                               <ul class="space-y-1">
                                 ${emu.features.map(f => `<li class="flex items-center text-sm text-slate-600"><span class="text-green-500 mr-2">âœ“</span>${f}</li>`).join('')}
                               </ul>
                            </div>
                            <div>
                                <strong class="text-sm text-slate-800 block mb-2">å®‰è£æ–¹å¼ï¼š</strong>
                                ${emu.installMethods.map(getInstallMethodTag).join('')}
                            </div>
                        </div>
                        <div class="bg-slate-50 p-4 border-t border-slate-200">
                             <button data-emu-id="${emu.id}" class="toggle-details-btn text-indigo-600 font-semibold w-full text-center">é¡¯ç¤ºå®‰è£æŒ‡ä»¤</button>
                        </div>
                        <div id="details-${emu.id}" class="details-section bg-slate-900 text-white">
                            <pre class="p-4 text-sm overflow-x-auto"><code>${emu.installCmd}</code></pre>
                        </div>
                    `;
                    emulatorGrid.appendChild(card);
                });
                
                chartSection.style.display = 'block';
                updateChart(platform);
                
                document.querySelectorAll('.toggle-details-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const emuId = btn.dataset.emuId;
                        const details = document.getElementById(`details-${emuId}`);
                        details.classList.toggle('open');
                        btn.textContent = details.classList.contains('open') ? 'éš±è—å®‰è£æŒ‡ä»¤' : 'é¡¯ç¤ºå®‰è£æŒ‡ä»¤';
                    });
                });
            }

            function updateChart(platform) {
                const platformData = emulatorsData[platform];
                const chartLabels = platformData.map(e => e.name);
                const accuracyData = platformData.map(e => e.ratings.accuracy);
                const easeOfUseData = platformData.map(e => e.ratings.easeOfUse);
                const featuresData = platformData.map(e => e.ratings.features);

                const data = {
                    labels: chartLabels,
                    datasets: [
                        {
                            label: 'æ¨¡æ“¬ç²¾åº¦',
                            data: accuracyData,
                            backgroundColor: 'rgba(79, 70, 229, 0.7)',
                            borderColor: 'rgba(79, 70, 229, 1)',
                            borderWidth: 1,
                            borderRadius: 5,
                        },
                        {
                            label: 'æ˜“ç”¨æ€§',
                            data: easeOfUseData,
                            backgroundColor: 'rgba(34, 197, 94, 0.7)',
                            borderColor: 'rgba(34, 197, 94, 1)',
                            borderWidth: 1,
                            borderRadius: 5,
                        },
                        {
                            label: 'åŠŸèƒ½è±å¯Œåº¦',
                            data: featuresData,
                            backgroundColor: 'rgba(245, 158, 11, 0.7)',
                            borderColor: 'rgba(245, 158, 11, 1)',
                            borderWidth: 1,
                            borderRadius: 5,
                        }
                    ]
                };

                if (chart) {
                    chart.data = data;
                    chart.update();
                } else {
                    const ctx = document.getElementById('emulatorChart').getContext('2d');
                    chart = new Chart(ctx, {
                        type: 'bar',
                        data: data,
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    max: 10,
                                    grid: {
                                        color: '#e2e8f0' // slate-200
                                    }
                                },
                                x: {
                                    grid: {
                                        display: false
                                    }
                                }
                            },
                            plugins: {
                                legend: {
                                    position: 'top',
                                },
                                tooltip: {
                                    mode: 'index',
                                    intersect: false,
                                },
                            },
                        }
                    });
                }
            }

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    navButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    const platform = button.dataset.platform;
                    renderEmulators(platform);
                });
            });

            retroarchToggle.addEventListener('click', () => {
                retroarchDetails.classList.toggle('open');
                retroarchToggle.textContent = retroarchDetails.classList.contains('open') ? 'éš±è—å®‰è£æŒ‡ä»¤' : 'é¡¯ç¤ºå®‰è£æŒ‡ä»¤';
            });
            
            // Set initial state
            navButtons[0].click();
        });
    </script>
</body>
</html>
